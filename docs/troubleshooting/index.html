<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-troubleshooting/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Troubleshooting &amp; Support | Upsy Desky</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://upsy-desky.tjhorner.dev/docs/troubleshooting/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Troubleshooting &amp; Support | Upsy Desky"><meta data-rh="true" name="description" content="Support"><meta data-rh="true" property="og:description" content="Support"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://upsy-desky.tjhorner.dev/docs/troubleshooting/"><link data-rh="true" rel="alternate" href="https://upsy-desky.tjhorner.dev/docs/troubleshooting/" hreflang="en"><link data-rh="true" rel="alternate" href="https://upsy-desky.tjhorner.dev/docs/troubleshooting/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N36PZOL6ZV-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="module" src="https://unpkg.com/esp-web-tools@9/dist/web/install-button.js?module"></script><link rel="search" type="application/opensearchdescription+xml" title="Upsy Desky" href="/opensearch.xml">
<link rel="preconnect" href="https://umami.horner.tj">
<script async defer="defer" src="https://umami.horner.tj/umami.js" data-website-id="d23d5a58-51a7-47a7-a3dd-2793734b2e5c" data-auto-track></script><link rel="stylesheet" href="/assets/css/styles.3a7e5997.css">
<script src="/assets/js/runtime~main.8860c60a.js" defer="defer"></script>
<script src="/assets/js/main.6ece8bb5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_Lffb" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-long.png" alt="Upsy Desky Logo" class="themedComponent_ZOw6 themedComponent--light_VF6v"><img src="/img/logo-inverted.png" alt="Upsy Desky Logo" class="themedComponent_ZOw6 themedComponent--dark_pNEP"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tjhorner/upsy-desky" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_uY8W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/ZHfXKQrSxF" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_uY8W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_bYFT colorModeToggle_O56p"><button class="clean-btn toggleButton_At25 toggleButtonDisabled_yZfL" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_gOLQ"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_jIBg"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_a45I"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_WvBi"><div class="docsWrapper_xEqx"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_LPq0" type="button"></button><div class="docRoot_YY9h"><aside class="theme-doc-sidebar-container docSidebarContainer_q93q"><div class="sidebarViewport_Gs3O"><div class="sidebar_EtNz"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_pAre"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/byoe/">BYOE (Bring-Your-Own-Enclosure)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/configuration/">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/integrations/">Integrations</a><button aria-label="Expand sidebar category &#x27;Integrations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/firmware-updates">Firmware Updates</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" href="/docs/troubleshooting/">Troubleshooting &amp; Support</a><button aria-label="Collapse sidebar category &#x27;Troubleshooting &amp; Support&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/troubleshooting/connection-issues">Connection Issues</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/reference/api">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/advanced/bluetooth-proxy">Advanced</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_og5L"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_V1qR"><div class="docItemContainer_o8og"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_ftHL" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_c1jg"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Troubleshooting &amp; Support</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_Q3M5 theme-doc-toc-mobile tocMobile_AMih"><button type="button" class="clean-btn tocCollapsibleButton_CqzJ">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Troubleshooting &amp; Support</h1></header>
<h2 class="anchor anchorWithStickyNavbar_j5Yb" id="support">Support<a href="#support" class="hash-link" aria-label="Direct link to Support" title="Direct link to Support">​</a></h2>
<p>If you are having issues with your Upsy Desky, help is available in several places:</p>
<ul>
<li>The below troubleshooting guide covers many common issues</li>
<li>The <a href="https://discord.gg/ZHfXKQrSxF" target="_blank" rel="noopener noreferrer">Discord server</a> is a great place to get help from me and the rest of the community</li>
<li>The <a href="https://github.com/tjhorner/upsy-desky/issues" target="_blank" rel="noopener noreferrer">GitHub issues</a> might have the solution to a problem you&#x27;re having</li>
</ul>
<p>Please do note that support is provided on a best-effort basis. I will of course assist in any way I can, but since this is not my full-time job I cannot guarantee that I will be able to help immediately or with every situation. If you are interested in a more formal support arrangement, please <a href="mailto:biz@tjhorner.dev" target="_blank" rel="noopener noreferrer">contact me via email</a> and we can work something out. Thank you for understanding.</p>
<h2 class="anchor anchorWithStickyNavbar_j5Yb" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_j5Yb" id="i-dont-see-the-wi-fi-network-during-setup">I don&#x27;t see the Wi-Fi network during setup<a href="#i-dont-see-the-wi-fi-network-during-setup" class="hash-link" aria-label="Direct link to I don&#x27;t see the Wi-Fi network during setup" title="Direct link to I don&#x27;t see the Wi-Fi network during setup">​</a></h3>
<p>If you don&#x27;t see a Wi-Fi network starting with <code>upsy-desky</code> while the unit is powered, the best thing to try is re-flashing the firmware. If you have a Chromium-based browser, you can do it directly from the web without any downloads. <a href="https://shop.horner.tj/things/upsy-desky/setup/stock" target="_blank" rel="noopener noreferrer">Flash it here</a>, and see if the issue persists. If it does, please join the <a href="https://discord.gg/ZHfXKQrSxF" target="_blank" rel="noopener noreferrer">Discord server</a> for support.</p>
<h3 class="anchor anchorWithStickyNavbar_j5Yb" id="i-cant-connect-to-my-hidden-wi-fi-network">I can&#x27;t connect to my hidden Wi-Fi network<a href="#i-cant-connect-to-my-hidden-wi-fi-network" class="hash-link" aria-label="Direct link to I can&#x27;t connect to my hidden Wi-Fi network" title="Direct link to I can&#x27;t connect to my hidden Wi-Fi network">​</a></h3>
<p>This is unfortunately a limitation of ESPHome — the <a href="https://esphome.io/components/wifi.html#configuration-variables" target="_blank" rel="noopener noreferrer">Wi-Fi configuration</a> requires that <code>fast_connect</code> is enabled for hidden networks, but this cannot be enabled without setting a network in the configuration itself, so I cannot enable this for the stock firmware.</p>
<p>Essentially, you will need to <a href="/docs/advanced/customization/">adopt your Upsy Desky in the ESPHome dashboard</a> then modify the Wi-Fi configuration to have the <code>fast_connect</code> option.</p>
<h3 class="anchor anchorWithStickyNavbar_j5Yb" id="the-desk-height-is-not-being-reported-properly">The desk height is not being reported properly<a href="#the-desk-height-is-not-being-reported-properly" class="hash-link" aria-label="Direct link to The desk height is not being reported properly" title="Direct link to The desk height is not being reported properly">​</a></h3>
<p>You may wish to try re-detecting the decoder to use:</p>
<ol>
<li>Press the up or down button on your desk&#x27;s keypad briefly. This will wake up the control box.</li>
<li>In Home Assistant or the web UI, press the <a href="/docs/reference/entities#re-detect-decoder">Re-Detect Decoder</a> button. This will cycle through each decoder and attempt to determine the correct one.</li>
</ol>
<p>You can gain more insight into the process by <a href="#collecting-logs">viewing the logs</a> before starting re-detection.</p>
<p>If you encounter this issue multiple times, it may be worth adding the correct decoder in the firmware configuration so it no longer needs to detect it at every boot. Perform this process one more time, taking note of the decoder that is detected, then <a href="/docs/advanced/customization/">add it to the firmware configuration</a> with these lines:</p>
<div class="language-yaml codeBlockContainer_bt48 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_XVvt"><pre tabindex="0" class="prism-code language-yaml codeBlock_EmQL thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AkWU"><span class="token-line" style="color:#9CDCFE"><span class="token key atrule">substitutions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">standing_desk_variant</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;YOUR_DECODER_HERE&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)"># Replace this</span><br></span></code></pre><div class="buttonGroup_L8cJ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ltLH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YPQi"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_iPHI"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If none of the decoders work, then your desk may use a protocol that is thus-far undiscovered. You can check out the <a href="/docs/advanced/reverse-engineering/">reverse engineering guide</a> to learn how to add support for your desk. If you run into any trouble, there are several people in the <a href="https://discord.gg/ZHfXKQrSxF" target="_blank" rel="noopener noreferrer">Discord</a> who have experience with this process and can help you out.</p>
<h3 class="anchor anchorWithStickyNavbar_j5Yb" id="the-stock-keypad-no-longer-shows-the-desks-height">The stock keypad no longer shows the desk&#x27;s height<a href="#the-stock-keypad-no-longer-shows-the-desks-height" class="hash-link" aria-label="Direct link to The stock keypad no longer shows the desk&#x27;s height" title="Direct link to The stock keypad no longer shows the desk&#x27;s height">​</a></h3>
<p>This is an issue that can occur on some brands of control box. To address it, follow these steps:</p>
<ol>
<li>Unplug everything from your Upsy Desky.</li>
<li>Connect the control box to your Upsy Desky.</li>
<li>Wait for the Upsy Desky to start up fully (around 10 seconds).</li>
<li>Plug in the keypad.</li>
</ol>
<p>If these steps don&#x27;t work, first unuplug your desk then repeat them.</p>
<p>The issue should be fixed until the next time power is lost. If you encounter it again, simply repeat the steps. A permanent fix is in the works, but this workaround will suffice for now. Apologies for the inconvenience!</p>
<h3 class="anchor anchorWithStickyNavbar_j5Yb" id="home-assistant-cant-connect--bad_indicator-errno11">Home Assistant can&#x27;t connect / <code>BAD_INDICATOR errno=11</code><a href="#home-assistant-cant-connect--bad_indicator-errno11" class="hash-link" aria-label="Direct link to home-assistant-cant-connect--bad_indicator-errno11" title="Direct link to home-assistant-cant-connect--bad_indicator-errno11">​</a></h3>
<p>If Home Assistant can&#x27;t connect to your Upsy Desky, or you are receiving the error <code>Reading failed: BAD_INDICATOR errno=11</code> in the logs, this indicates Home Assistant may be trying to connect with an incorrect encryption key. First, try restarting Home Assistant entirely to see if the issue persists. If it does, here are some things to try based on how you manage your Upsy Desky&#x27;s firmware updates.</p>
<h4 class="anchor anchorWithStickyNavbar_j5Yb" id="ota-updates--firmware-binary">OTA Updates / Firmware Binary<a href="#ota-updates--firmware-binary" class="hash-link" aria-label="Direct link to OTA Updates / Firmware Binary" title="Direct link to OTA Updates / Firmware Binary">​</a></h4>
<p>The pre-compiled firmware binaries that are used for OTA updates do not have an API encryption key built-in, therefore Home Assistant must be attempting to connect with an encryption key or deprecated API password. To remedy this, please try removing the integration entry for your Upsy Desky by going to <strong>Settings &gt; Devices &amp; Services</strong>, then remove the ESPHome integration for your Upsy Desky there. Then re-add your Upsy Desky to Home Assistant by creating a new ESPHome integration using the device&#x27;s IP or hostname. Do not specify an encryption key or password if prompted.</p>
<h4 class="anchor anchorWithStickyNavbar_j5Yb" id="esphome-dashboard">ESPHome Dashboard<a href="#esphome-dashboard" class="hash-link" aria-label="Direct link to ESPHome Dashboard" title="Direct link to ESPHome Dashboard">​</a></h4>
<p>If you manage updates with an ESPHome YAML, you must make sure that the encryption key you specify in the <code>api:</code> section of your configuration matches the encryption key that Home Assistant uses. Try re-adding the integration to Home Assistant, and make sure to specify the encryption key when prompted. You may also try removing the encryption key from your configuration to see if this remedies the issue. If it does, this may indicate an issue with Home Assistant or ESPHome itself.</p>
<h3 class="anchor anchorWithStickyNavbar_j5Yb" id="upsy-desky-is-powered-with-usb-c-but-not-with-the-control-box">Upsy Desky is powered with USB-C, but not with the control box<a href="#upsy-desky-is-powered-with-usb-c-but-not-with-the-control-box" class="hash-link" aria-label="Direct link to Upsy Desky is powered with USB-C, but not with the control box" title="Direct link to Upsy Desky is powered with USB-C, but not with the control box">​</a></h3>
<p>If your Upsy Desky can be powered with USB-C but is not powered by your desk&#x27;s control box (or you are seeing strange power-related behavior), then the first thing you want to check is that you are using a short, high-quality cable. Using a long or lower-quality cable can affect power delivery to the unit and cause issues. I recommend using a CAT6 cable with 24 AWG wires or better, and no longer than 1 meter. <a href="https://www.amazon.com/Monoprice-Cat6-Ethernet-Patch-Cable/dp/B002RBECAE" target="_blank" rel="noopener noreferrer">This cable from Monoprice</a> should work well.</p>
<p>If you are indeed using a high-quality cable, then it&#x27;s possible that your desk&#x27;s control box simply can&#x27;t provide the current necessary to power the Upsy Desky. It does take up more power than the stock keypad, so this is a possibility. Luckily, you can provide supplemental power via the USB-C port while it&#x27;s also plugged into the control box; this should resolve any power-related issues you are seeing.</p>
<h3 class="anchor anchorWithStickyNavbar_j5Yb" id="i-updated-esphome-and-the-firmware-doesnt-compile">I updated ESPHome and the firmware doesn&#x27;t compile<a href="#i-updated-esphome-and-the-firmware-doesnt-compile" class="hash-link" aria-label="Direct link to I updated ESPHome and the firmware doesn&#x27;t compile" title="Direct link to I updated ESPHome and the firmware doesn&#x27;t compile">​</a></h3>
<p>If you are managing your firmware via ESPHome and a recent ESPHome update has caused the firmware to fail compilation, please make sure that your configuration packages are up-to-date. You can check the latest version of the config packages <a href="https://github.com/tjhorner/upsy-desky/releases/latest" target="_blank" rel="noopener noreferrer">here</a>. For example, if the latest version is v1.2.3, your <code>packages</code> section should look something like this:</p>
<div class="language-yaml codeBlockContainer_bt48 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_XVvt"><pre tabindex="0" class="prism-code language-yaml codeBlock_EmQL thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AkWU"><span class="token-line" style="color:#9CDCFE"><span class="token key atrule">packages</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">tj_horner.upsy_desky</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> github</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">//tjhorner/upsy</span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain">desky/firmware/stock.yaml@v1.2.3</span><br></span></code></pre><div class="buttonGroup_L8cJ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ltLH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YPQi"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_iPHI"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_j5Yb" id="other-issues">Other Issues<a href="#other-issues" class="hash-link" aria-label="Direct link to Other Issues" title="Direct link to Other Issues">​</a></h2>
<p>If you are experiencing other issues, here are some things to try:</p>
<ul>
<li>Restart your desk&#x27;s control box. Sometimes it can get in a weird state which the Upsy Desky cannot recover from.</li>
<li>Disconnect and re-connect the Upsy Desky to the control box.</li>
<li>Reflash the firmware <a href="https://shop.horner.tj/things/upsy-desky/setup/stock" target="_blank" rel="noopener noreferrer">here</a>.</li>
</ul>
<p>If all else fails, please join the <a href="https://discord.gg/ZHfXKQrSxF" target="_blank" rel="noopener noreferrer">Discord server</a> for support. If necessary, we will work to triage an issue on the GitHub repository.</p>
<h2 class="anchor anchorWithStickyNavbar_j5Yb" id="collecting-logs">Collecting Logs<a href="#collecting-logs" class="hash-link" aria-label="Direct link to Collecting Logs" title="Direct link to Collecting Logs">​</a></h2>
<p>If you are experiencing issues with the Upsy Desky, it may be helpful to collect logs from the device. You can collect the logs from the web UI or via serial.</p>
<p>To collect the logs via USB serial right in your browser, click the Connect button below, choose your Upsy Desky, then &quot;Logs &amp; Console&quot;.</p>
<!-- -->
<esp-web-install-button manifest="https://shop.horner.tj/api/upsy-desky-firmware/manifest"><span slot="unsupported">Provisioning via USB only works in browsers which support Web Serial, such as Chrome or Edge.</span></esp-web-install-button></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/tjhorner/upsy-desky-docs/edit/main/docs/troubleshooting/index.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_ztD5" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wJc7"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/firmware-updates"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Firmware Updates</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/troubleshooting/connection-issues"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connection Issues</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_KqAI thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#support" class="table-of-contents__link toc-highlight">Support</a></li><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a><ul><li><a href="#i-dont-see-the-wi-fi-network-during-setup" class="table-of-contents__link toc-highlight">I don&#39;t see the Wi-Fi network during setup</a></li><li><a href="#i-cant-connect-to-my-hidden-wi-fi-network" class="table-of-contents__link toc-highlight">I can&#39;t connect to my hidden Wi-Fi network</a></li><li><a href="#the-desk-height-is-not-being-reported-properly" class="table-of-contents__link toc-highlight">The desk height is not being reported properly</a></li><li><a href="#the-stock-keypad-no-longer-shows-the-desks-height" class="table-of-contents__link toc-highlight">The stock keypad no longer shows the desk&#39;s height</a></li><li><a href="#home-assistant-cant-connect--bad_indicator-errno11" class="table-of-contents__link toc-highlight">Home Assistant can&#39;t connect / <code>BAD_INDICATOR errno=11</code></a></li><li><a href="#upsy-desky-is-powered-with-usb-c-but-not-with-the-control-box" class="table-of-contents__link toc-highlight">Upsy Desky is powered with USB-C, but not with the control box</a></li><li><a href="#i-updated-esphome-and-the-firmware-doesnt-compile" class="table-of-contents__link toc-highlight">I updated ESPHome and the firmware doesn&#39;t compile</a></li></ul></li><li><a href="#other-issues" class="table-of-contents__link toc-highlight">Other Issues</a></li><li><a href="#collecting-logs" class="table-of-contents__link toc-highlight">Collecting Logs</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/ZHfXKQrSxF" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_uY8W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/tjhorner/upsy-desky" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_uY8W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Shop</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.tindie.com/products/tjhorner/upsy-desky/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Buy Upsy Desky on Tindie<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_uY8W"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 TJ Horner &mdash; provided under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank">CC BY-NC-SA 4.0</a></div></div></div></footer></div>
</body>
</html>